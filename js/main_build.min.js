!function t(e,r,i){function o(s,a){if(!r[s]){if(!e[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(n)return n(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return o(r?r:t)},c,c.exports,t,e,r,i)}return r[s].exports}for(var n="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e){function r(){f=document.createElement("div"),document.body.appendChild(f),v=new THREE.PerspectiveCamera(40,window.innerWidth/window.innerHeight,1,1e4),v.position.z=600,g=new THREE.Scene,x=new THREE.DirectionalLight(16777215),x.position.set(.5,1,1).normalize(),g.add(x);try{y=new THREE.WebGLRenderer({antialias:!1})}catch(t){return console.log("NO WEBGL HERE"),!1}y.setSize(window.innerWidth,window.innerHeight),y.autoClear=!1,f.appendChild(y.domElement),w=new z("eat",{xgrid:21,ygrid:21,width:640,height:360,velocity:_,mode:"still"},y,g),w.addTo(g),b=new z("eat",{xgrid:15,ygrid:15,width:300,height:200,velocity:.045,initX:200,initY:0,initZ:60,randZ:!0,zsize:30,mode:"still"},y,g),stranger2=new z("eat",{xgrid:16,ygrid:16,width:150,height:150,breakDown:!0,velocity:.03,randVel:!0,initX:-250,initY:-50,initZ:20,zsize:60},y,g);var e=new THREE.RenderPass(g,v),r=new THREE.BloomPass(.9,30),s=new THREE.ShaderPass(THREE.CopyShader);return s.renderToScreen=!0,T=new THREE.EffectComposer(y),T.addPass(e),T.addPass(r),T.addPass(s),document.addEventListener("mousemove",o,!1),window.addEventListener("resize",i,!1),setTimeout(h,V),setTimeout(c,$),setTimeout(l,D),setTimeout(d,P),setTimeout(m,L),setTimeout(u,S),n(),!0}function i(){I=window.innerWidth/2,R=window.innerHeight/2,v.aspect=window.innerWidth/window.innerHeight,v.updateProjectionMatrix(),y.setSize(window.innerWidth,window.innerHeight),T.reset()}function o(t){k=t.clientX-I,F=.6*(t.clientY-R)}function n(){setTimeout(n,20),p()}function s(t,e,r,i){var o=M.randInt(e,50);t.setVelocity(),t.mode="moving",setTimeout(function(){if(t.reverseDirection(),r){var n=M.randInt(e,50),s=o/n;t.speedChange(s)}else var n=o;setTimeout(function(){t.mode="still",i()},n)},o)}function a(t,e){var r=1e3*Math.random()-500,i=800*Math.random()-400,o=400*Math.random()-200;H.move(t,r,i,o,!1,function(){e()})}function h(){function t(){s(w,1200,!0,function(){w.resetMeshes(!0,!1),Z.eat3d&&(setTimeout(t,M.randInt(w.maxWait,w.maxWait/3.5)),w.maxWait=w.maxWait-150,w.maxWait<500&&(w.maxWait=500))})}Z.eat3d=!0,w.maxWait=6e3,t()}function c(){function t(){var e=Math.random();.3>e&&!r&&(r=!0,s(b,3e3,!0,function(){r=!1})),!i&&.65>e?(b.setColors(),i=!0):i&&(b.resetColors(),i=!1),setTimeout(t,M.randInt(1e3,200))}function e(){a(b,function(){setTimeout(function(){Z.stranger1&&setTimeout(e,1)},M.randInt(7e3,1e3))})}b.addTo(g),C.push(b),Z.stranger1=!0;var r=!1,i=!1;t(),setTimeout(function(){e()},5e3),b.interval=setInterval(function(){b.resetMeshes(!0,!1)},17500)}function l(){Z.stranger2=!0,stranger2.addTo(g),C.push(stranger2),stranger2.mode="moving",stranger2.interval=setInterval(function(){stranger2.resetMeshes(!0,!1)},1e4)}function d(){function t(){var e=M.randInt(120,40),r=M.randInt(90,30),i=M.randInt(7,2),o=Math.random()<.5?!0:!1,n=new z("eat",{xgrid:i,ygrid:i,width:e,height:r,breakDown:o,velocity:.01*Math.random()+.004,randVel:!0,mode:"moving",initX:700*Math.random()-350,initY:300*Math.random()-150,initZ:50*Math.random()+10,zsize:e},y,g);n.addTo(g),W.push(n),Z.onslaught&&W.length<=16&&setTimeout(t,M.randInt(6e3,1800))}Z.onslaught=!0,t()}function m(){function t(){var e=M.randInt(255,170),r=M.randInt(255,170),i=M.randInt(255,170),o="rgb("+e+", "+r+", "+i+")";x.color=new THREE.Color(o),setTimeout(function(){x.color=new THREE.Color(16777215),Z.light&&setTimeout(t,M.randInt(1e3,100))},M.randInt(300,60))}Z.light=!0,t()}function u(){function t(t){t.randVel=!1,t.setVelocity()}function e(){y.setClearColor(16777215),setTimeout(function(){y.setClearColor(0),setTimeout(e,M.randInt(300,30))},M.randInt(300,30))}for(var r in Z)Z[r]=!1;Z.eat3d=!0,Z.onslaught=!0,Z.light=!0;for(var i=0;i<C.length;i++)t(C[i]),clearInterval(C[i].interval),C[i].mode="moving";for(var i=0;i<W.length;i++)t(W[i]);e(),E=setInterval(function(){for(var e=0;e<C.length;e++)C[e].resetMeshes(!0,!1),C[e].mode="moving",t(C[e]);for(var e=0;e<W.length;e++)W[e].resetMeshes(!0,!1),t(W[e])},3e4)}function p(){v.position.x+=.05*(k-v.position.x),v.position.y+=.05*(-F-v.position.y),v.lookAt(g.position),w.render();for(var t=0;t<C.length;t++)C[t].render();for(var t=0;t<W.length;t++)W[t].render();y.clear(),T.render()}var f,v,g,y,x,T,w,b,E,M=t("./lib/kutility"),z=t("./monolith"),H=t("./mover"),k=0,F=0,I=window.innerWidth/2,R=window.innerHeight/2,C=[],W=[],_=.015,V=13666,$=26666,D=36666,L=42e3,P=65e3,S=1e5,Z={eat3d:!1,stranger1:!1,stranger2:!1};e.exports.init=r,e.exports.clear=function(){g.clear()}},{"./lib/kutility":2,"./monolith":4,"./mover":5}],2:[function(t,e){function r(){}function i(t,e){t.css("-webkit-box-shadow",e),t.css("-moz-box-shadow",e),t.css("box-shadow",e)}e.exports=new r,r.prototype.choice=function(t){var e=Math.floor(Math.random()*t.length);return t[e]},r.prototype.shuffle=function(t){for(var e=new Array(t.length),r=0;r<t.length;r++)e[r]=t[r];return e.sort(function(){return.5-Math.random()}),e},r.prototype.randColor=function(){var t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),r=Math.floor(256*Math.random());return"rgb("+t+","+e+","+r+")"},r.prototype.randInt=function(t,e){return e?Math.floor(Math.random()*(t-e))+e:Math.floor(Math.random()*t)},r.prototype.colorWheel=function(t){var e="rgb(",r=t%1536,t=r%256;return 256>r?e+"0,255,"+t+")":512>r?e+"0,"+(255-t)+",255)":768>r?e+t+",0,255)":1024>r?e+"255,0,"+(255-t)+")":1280>r?e+"255,"+t+",0)":e+(255-t)+",255,0)"},r.prototype.alphize=function(t,e){return t.replace("rgb","rgba"),t.replace(")",", "+e+")"),t},r.prototype.contrasters=function(){var t=Math.floor(1536*Math.random()),e=this.colorWheel(t),r=this.colorWheel(t+650);return[e,r]},r.prototype.randomShadow=function(t,e){var r=e+"px",o="0px 0px "+r+" "+r+" "+this.randColor();i(t,o)},r.prototype.shadow=function(t,e,r,o,n,s){var a=e+"px",h=r+"px",c=o+"px",l=n+"px",d=a+" "+h+" "+c+" "+l+" "+s;i(t,d)},r.prototype.addTransform=function(t,e){var r=this.getTransform(t);r=r.replace("none","");var i=r+e;this.setTransform(t,i)},r.prototype.setTransform=function(t,e){t.css("-webkit-transform",e),t.css("-moz-transform",e),t.css("-ms-transform",e),t.css("-o-transform",e),t.css("transform",e)},r.prototype.getTransform=function(t){for(var e=["transform","-webkit-transform","-moz-transform","-ms-transform","-o-transform"],r=0;r<e.length;r++){var i=t.css(e[r]);if("none"==i&&r+1<e.length){var o=t.css(e[r+1]);if(o)continue}return i}},r.prototype.clearTransforms=function(t){t.css("-webkit-transform",""),t.css("-moz-transform",""),t.css("-ms-transform",""),t.css("-o-transform",""),t.css("transform","")},r.prototype.rotate=function(t,e){var r=this.getTransform(t);r=r.replace(/matrix\(.*?\)/,"").replace("none","");var i=" rotate("+e+"deg)";this.setTransform(t,r+i)},r.prototype.scale=function(t,e){var r=this.getTransform(t);r=r.replace(/matrix\(.*?\)/,"").replace("none","");var i=" scale("+e+","+e+")";this.setTransform(t,r+i)},r.prototype.translate=function(t,e,r){var i=this.getTransform(t);console.log(i),i=i.replace(/matrix\(.*?\)/,"").replace("none","");var o=" translate("+e+", "+r+")";this.setTransform(t,i+o)},r.prototype.skew=function(t,e,r){var i=this.getTransform(t);i=i.replace(/skew\(.*?\)/,"").replace(/matrix\(.*?\)/,"").replace("none","");var o=e+"deg",n=r+"deg",s=" skew("+o+", "+n+")";this.setTransform(t,i+s)},r.prototype.warp=function(t,e,r,i){var o=this.getTransform(t);o=o.replace(/matrix\(.*?\)/,"").replace("none","");var n=" rotate("+e+"deg)",s=r+"deg",a=i+"deg",h=" skew("+s+", "+a+")";this.setTransform(t,o+n+h)},r.prototype.slaw=function(t,e,r,i){var o=this.getTransform(t);o=o.replace(/matrix\(.*?\)/,"").replace("none","");var n=" scale("+e+","+e+")",s=" translate("+r+", "+i+")";this.setTransform(t,o+n+s)},r.prototype.straw=function(t,e,r){var i=this.getTransform(t);i=i.replace(/matrix\(.*?\)/,"").replace("none","");var o=" scale("+e+","+e+")",n=" rotate("+r+"deg)";this.setTransform(t,i+o+n)},r.prototype.perp=function(t,e){var r=e+"px";t.css("-webkit-perspective",r),t.css("-moz-perspective",r),t.css("-ms-perspective",r),t.css("-o-perspective",r),t.css("perspective",r)},r.prototype.perpo=function(t,e,r){var i=e+"% "+r+"%";t.css("-webkit-perspective-origin",i),t.css("-moz-perspective-origin",i),t.css("-ms-perspective-origin",i),t.css("-o-perspective-origin",i),t.css("perspective-origin",i)},r.prototype.trans3d=function(t,e,r,i){var o=this.getTransform(t);o=o.replace(/matrix3d\(.*?\)/,"").replace("none","");var n=" translate3d("+e+"px, "+r+"px, "+i+"px)";this.setTransform(t,o+n)},r.prototype.scale3d=function(t,e){var r=this.getTransform(t);r=r.replace(/matrix3d\(.*?\)/,"").replace("none","");var i=" scale3d("+e+", "+e+", "+e+")";this.setTransform(t,r+i)},r.prototype.rotate3d=function(t,e,r,i,o){var n=this.getTransform(t);n=n.replace(/matrix3d\(.*?\)/,"").replace("none","");var s=" rotate3d("+e+", "+r+", "+i+", "+o+"deg)";this.setTransform(t,n+s)},r.prototype.rotate3dx=function(t,e){this.rotate3d(t,1,0,0,e)},r.prototype.rotate3dy=function(t,e){this.rotate3d(t,0,1,0,e)},r.prototype.rotate3dz=function(t,e){this.rotate3d(t,0,0,1,e)},r.prototype.straw3d=function(t,e,r,i,o,n){var s=this.getTransform(t);s=s.replace(/matrix3d\(.*?\)/,"").replace("none","");var a=" scale3d("+n+", "+n+", "+n+")";a+=" rotate3d("+e+", "+r+", "+i+", "+o+"deg)",this.setTransform(t,s+a)},r.prototype.addFilter=function(t,e){var r=this.getFilter(t);r=r.replace("none","");var i=r+" "+e;this.setFilter(t,i)},r.prototype.setFilter=function(t,e){t.css("-webkit-filter",e),t.css("-moz-filter",e),t.css("-ms-filter",e),t.css("-o-filter",e),t.css("filter",e)},r.prototype.getFilter=function(t){for(var e=["filter","-webkit-filter","-moz-filter","-ms-filter","-o-filter"],r=0;r<e.length;r++){var i=t.css(e[r]);if("none"==i&&r+1<e.length){var o=t.css(e[r+1]);if(o)continue}return i}},r.prototype.clearFilters=function(t){t.css("-webkit-filter",""),t.css("-moz-filter",""),t.css("-ms-filter",""),t.css("-o-filter",""),t.css("filter","")},r.prototype.grayscale=function(t,e){var r=this.getFilter(t);r=r.replace(/grayscale\(.*?\)/,"").replace("none","");var i=" grayscale("+e+"%)";this.setFilter(t,r+i)},r.prototype.sepia=function(t,e){var r=this.getFilter(t);r=r.replace(/sepia\(.*?\)/,"").replace("none","");var i=" sepia("+e+"%)";this.setFilter(t,r+i)},r.prototype.saturate=function(t,e){var r=this.getFilter(t);r=r.replace(/saturate\(.*?\)/,"").replace("none","");var i=" saturate("+e+"%)";this.setFilter(t,r+i)},r.prototype.invert=function(t,e){var r=this.getFilter(t);r=r.replace(/invert\(.*?\)/,"").replace("none","");var i=" invert("+e+"%)";this.setFilter(t,r+i)},r.prototype.hutate=function(t,e){var r=this.getFilter(t);r=r.replace(/hue-rotate\(.*?\)/,"").replace("none","");var i=" hue-rotate("+e+"deg)";this.setFilter(t,r+i)},r.prototype.opace=function(t,e){var r=this.getFilter(t);r=r.replace(/opacity\(.*?\)/,"").replace("none","");var i=" opacity("+e+"%)";this.setFilter(t,r+i)},r.prototype.brightness=function(t,e){var r=this.getFilter(t);r=r.replace(/brightness\(.*?\)/,"").replace("none","");var i=" brightness("+e+"%)";this.setFilter(t,r+i)},r.prototype.contrast=function(t,e){var r=this.getFilter(t);r=r.replace(/contrast\(.*?\)/,"").replace("none","");var i=" contrast("+e+"%)";this.setFilter(t,r+i)},r.prototype.blur=function(t,e){var r=this.getFilter(t);r=r.replace(/blur\(.*?\)/,"").replace("none","");var i=" blur("+e+"px)";this.setFilter(t,r+i)}},{}],3:[function(t){$(function(){function e(){p++,p==u&&r()}function r(){m.init(),s(),setTimeout(o,1e3),setTimeout(i,v),n(),setInterval(function(){$(".debug-timer").html(d[0].currentTime)},200)}function i(){function t(){for(var t=0;t<d.length;t++)d[t].currentTime=0;m.clear();for(var e in f)f[e]=!1;r()}function e(){$(".footer").animate({opacity:1},600),$(".footer").unbind("mouseenter"),$(".footer").unbind("mouseleave")}e(),setTimeout(t,5e3)}function o(){$(".footer").animate({opacity:0},800),$(".footer").mouseenter(function(){$(this).animate({opacity:1},400)}),$(".footer").mouseleave(function(){$(this).animate({opacity:0},400)})}function n(){for(var t=0;t<d.length;t++)d[t].muted=!0}function s(){f.eat=!0,c.play(),a()}function a(){var t=.4*Math.random()+.02;l.css("opacity",t),setTimeout(a,h.randInt(1e3,20))}for(var h=t("./lib/kutility"),c=document.querySelector("#eat"),l=$(c),d=[c],m=t("./3d"),u=d.length,p=0,f={eat:!1},v=3e5,g=0;g<d.length;g++)d[g].addEventListener("canplaythrough",e)})},{"./3d":1,"./lib/kutility":2}],4:[function(t,e){function r(t,e,r,i){this.xgrid=e.xgrid||30,this.ygrid=e.ygrid||30,this.width=e.width||640,this.height=e.height||360,this.xsize=this.width/this.xgrid,this.ysize=this.height/this.ygrid,this.randZ=e.randZ||!1,this.zsize=e.zsize||this.xsize,this.velocity=e.velocity||.01,this.randVel=e.randVel||!1,this.mode=e.mode||"",this.breakDown=e.breakDown,void 0===this.breakDown&&(this.breakDown=!0),this.initX=e.initX||0,this.initY=e.initY||0,this.initZ=e.initZ||0,this.gdx=e.gdx||0,this.gdy=e.gdy||0,this.gdz=e.gdz||0,this.video=document.getElementById(t),this.$video=$(this.video),this.video.muted=!0,this.materials=[],this.meshes=[],this.vidTexture=new THREE.Texture(this.video),this.vidTexture.minFilter=THREE.LinearFilter,this.vidTexture.magFilter=THREE.LinearFilter,this.vidTexture.format=THREE.RGBFormat,this.vidTexture.generateMipmaps=!1,this.ux=1/this.xgrid,this.uy=1/this.ygrid,this.materialParams={color:16777215,map:this.vidTexture},this.material_base=new THREE.MeshLambertMaterial(this.materialParams),r.initMaterial(this.material_base,i.__lights,i.fog),this.cube_count=0;var n,s,a,h,c;for(n=0;n<this.xgrid;n++)for(s=0;s<this.ygrid;s++)a=n,h=s,c=new THREE.BoxGeometry(this.xsize,this.ysize,this.z()),this.breakDown&&o(c,this.ux,this.uy,a,h),this.materials[this.cube_count]=new THREE.MeshLambertMaterial(this.materialParams),material=this.materials[this.cube_count],mesh=new THREE.Mesh(c,material),this.meshes[this.cube_count]=mesh,this.cube_count+=1;this.setVelocity(),this.resetMeshes(!0,!0)}function o(t,e,r,i,o){for(var n=t.faceVertexUvs[0],s=0;s<n.length;s++)for(var a=n[s],h=0;h<a.length;h++){var c=a[h];c.x=(c.x+i)*e,c.y=(c.y+o)*r}}t("./lib/kutility");e.exports=r,r.prototype.z=function(){return this.randZ?Math.random()*this.zsize*1.5+.5*this.zsize:this.zsize},r.prototype.addTo=function(t){for(var e=0;e<this.cube_count;e++)t.add(this.meshes[e])},r.prototype.render=function(){this.video.readyState===this.video.HAVE_ENOUGH_DATA&&this.vidTexture&&(this.vidTexture.needsUpdate=!0);var t=!1;"moving"==this.mode&&(t=!0);for(var e=0;e<this.cube_count;e++)mesh=this.meshes[e],mesh.position.x+=this.gdx,mesh.position.y+=this.gdy,mesh.position.z+=this.gdz,t&&!this.randVel?(mesh.rotation.x+=10*mesh.dx,mesh.rotation.y+=10*mesh.dy,mesh.position.x+=200*mesh.dx,mesh.position.y+=200*mesh.dy,mesh.position.z+=400*mesh.dx):t&&(mesh.rotation.x+=10*mesh.dx*(Math.random()-.5),mesh.rotation.y+=10*mesh.dy*(Math.random()-.5),mesh.position.x+=200*mesh.dx*(Math.random()-.5),mesh.position.y+=200*mesh.dy*(Math.random()-.5),mesh.position.z+=400*mesh.dx*(Math.random()-.5))},r.prototype.reverseDirection=function(){for(i=0;i<this.cube_count;i++)mesh=this.meshes[i],mesh.dx*=-1,mesh.dy*=-1},r.prototype.speedChange=function(t){for(i=0;i<this.cube_count;i++)mesh=this.meshes[i],mesh.dx*=t,mesh.dy*=t},r.prototype.setVelocity=function(){for(var t=0;t<this.cube_count;t++){var e=this.meshes[t];e.dx=this.velocity*(.5-Math.random()),e.dy=this.velocity*(.5-Math.random())}},r.prototype.setColors=function(t){for(var e=0;e<this.xgrid;e++)for(var r=0;r<this.ygrid;r++){var i=e*this.xgrid+r,o=this.meshes[i];o&&(t?(o.material.hue=e/this.xgrid,o.material.saturation=1-r/this.ygrid,o.material.lightness=.5):(o.material.hue=Math.random(),o.material.saturation=.5*Math.random()+.1,o.material.lightness=.5*Math.random()+.25),o.material.color.setHSL(o.material.hue,o.material.saturation,o.material.lightness))}},r.prototype.resetColors=function(t){for(var e=0;e<this.cube_count;e++){var r=this.meshes[e];r.material.color=new THREE.Color(t?t:16777215)}},r.prototype.structureVel=function(t,e,r){this.gdx=t,this.gdy=e,this.gdz=r},r.prototype.resetMeshes=function(t,e){for(var r=0;r<this.xgrid;r++)for(var i=0;i<this.ygrid;i++){var o=r*this.xgrid+i,n=this.meshes[o];n&&(t&&(n.position.x=this.initX+(r-this.xgrid/2)*this.xsize,n.position.y=this.initY+(i-this.ygrid/2)*this.ysize,n.position.z=this.initZ,n.rotation.x=0,n.rotation.y=0),e&&(n.scale.x=1,n.scale.y=1,n.scale.z=1))}},r.prototype.scaleMeshes=function(t){for(var e=0;e<this.xgrid;e++)for(var r=0;r<this.ygrid;r++){var i=e*this.xgrid+r,o=this.meshes[i];o&&(o.scale.x=t,o.scale.y=t,o.scale.z=t)}}},{"./lib/kutility":2}],5:[function(t,e){{var r=t("./lib/kutility");e.exports.frametime=20}e.exports.move=function(t,e,i,o,n,s){var a=r.randInt(3e3,700),h=e/a*10,c=i/a*10,l=o/a*10;console.log(h+" "+c+" "+l),t.structureVel(h,c,l),setTimeout(function(){t.structureVel(0,0,0),s()},a)}},{"./lib/kutility":2}]},{},[3]);