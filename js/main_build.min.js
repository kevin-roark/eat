!function t(e,r,i){function n(s,a){if(!r[s]){if(!e[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return n(r?r:t)},c,c.exports,t,e,r,i)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(t,e){function r(){y=document.createElement("div"),document.body.appendChild(y),x=new THREE.PerspectiveCamera(40,window.innerWidth/window.innerHeight,1,1e4),x.position.z=600,T=new THREE.Scene,z=new THREE.DirectionalLight(16777215),z.position.set(.5,1,1).normalize(),T.add(z);try{w=new THREE.WebGLRenderer({antialias:!1})}catch(t){return console.log("NO WEBGL HERE"),!1}w.setSize(window.innerWidth,window.innerHeight),w.autoClear=!1,y.appendChild(w.domElement),M=new F("eat",{xgrid:21,ygrid:21,width:640,height:360,velocity:D,mode:"still"},w,T),M.addTo(T),E=new F("eat",{xgrid:15,ygrid:15,width:300,height:200,velocity:.05,initX:200,initY:0,initZ:60,randZ:!0,zsize:30,mode:"still"},w,T),stranger2=new F("eat",{xgrid:16,ygrid:16,width:150,height:150,breakDown:!0,velocity:.03,randVel:!0,initX:-250,initY:-50,initZ:20,zsize:60},w,T);var e=new THREE.RenderPass(T,x),r=new THREE.BloomPass(.9,30),s=new THREE.ShaderPass(THREE.CopyShader);return s.renderToScreen=!0,b=new THREE.EffectComposer(w),b.addPass(e),b.addPass(r),b.addPass(s),document.addEventListener("mousemove",n,!1),window.addEventListener("resize",i,!1),setTimeout(h,L),setTimeout(c,P),setTimeout(l,S),setTimeout(d,X),setTimeout(m,Z),setTimeout(u,Y),setTimeout(p,q),setTimeout(v,A),o(),!0}function i(){W=window.innerWidth/2,_=window.innerHeight/2,x.aspect=window.innerWidth/window.innerHeight,x.updateProjectionMatrix(),w.setSize(window.innerWidth,window.innerHeight),b.reset()}function n(t){R=t.clientX-W,C=.6*(t.clientY-_)}function o(){setTimeout(o,20),g()}function s(t,e,r,i){var n=H.randInt(e,50);t.setVelocity(),t.mode="moving",setTimeout(function(){if(t.reverseDirection(),r){var o=H.randInt(e,50),s=n/o;t.speedChange(s)}else var o=n;setTimeout(function(){t.mode="still",i()},o)},n)}function a(t,e){var r=1e3*Math.random()-500,i=800*Math.random()-400,n=400*Math.random()-200;I.move(t,r,i,n,!1,function(){e()})}function h(){function t(){s(M,M.maxT,!0,function(){M.resetMeshes(!0,!1),B.eat3d&&(setTimeout(t,H.randInt(M.maxWait,M.maxWait/3.5)),M.maxWait=M.maxWait-150,M.maxWait<500&&(M.maxWait=500),M.maxT=M.maxT+100,M.maxT>1500&&(M.maxT=1500))})}B.eat3d=!0,M.maxWait=6e3,M.maxT=300,t()}function c(){function t(){var e=Math.random();.1>e&&!r&&(r=!0,s(E,3e3,!0,function(){r=!1})),!i&&.65>e?(E.setColors(),i=!0):i&&(E.resetColors(),i=!1),setTimeout(t,H.randInt(1e3,200))}function e(){a(E,function(){setTimeout(function(){B.stranger1&&setTimeout(e,1)},H.randInt(7e3,1e3))})}E.addTo(T),V.push(E),B.stranger1=!0;var r=!1,i=!1;t(),setTimeout(function(){e()},12e3),E.interval=setInterval(function(){E.resetMeshes(!0,!1)},17500)}function l(){B.stranger2=!0,stranger2.addTo(T),V.push(stranger2),stranger2.mode="moving",stranger2.interval=setInterval(function(){stranger2.resetMeshes(!0,!1)},1e4)}function d(){function t(){var e=H.randInt(120,40),r=H.randInt(90,30),i=H.randInt(7,2),n=Math.random()<.5?!0:!1,o=new F("eat",{xgrid:i,ygrid:i,width:e,height:r,breakDown:n,velocity:.01*Math.random()+.004,randVel:!0,mode:"moving",initX:700*Math.random()-350,initY:300*Math.random()-150,initZ:50*Math.random()+10,zsize:e},w,T);o.addTo(T),$.push(o),B.onslaught&&$.length<=16&&setTimeout(t,H.randInt(6e3,1800))}B.onslaught=!0,t()}function m(){function t(){var e=H.randInt(255,170),r=H.randInt(255,170),i=H.randInt(255,170),n="rgb("+e+", "+r+", "+i+")";z.color=new THREE.Color(n),setTimeout(function(){z.color=new THREE.Color(16777215),B.light&&setTimeout(t,H.randInt(1e3,100))},H.randInt(300,60))}B.light=!0,t()}function u(){function t(t){t.randVel=!1,t.setVelocity()}function e(){w.setClearColor(16777215),setTimeout(function(){w.setClearColor(0),setTimeout(e,H.randInt(300,30))},H.randInt(300,30))}for(var r in B)B[r]=!1;B.eat3d=!0,B.onslaught=!0,B.light=!0,B.shaking=!0,B.breakdown=!0;for(var i=0;i<V.length;i++)t(V[i]),clearInterval(V[i].interval),V[i].mode="moving";for(var i=0;i<$.length;i++)t($[i]);e(),k=setInterval(function(){if(B.breakdown){for(var e=0;e<V.length;e++)V[e].resetMeshes(!0,!1),V[e].mode="moving",t(V[e]);for(var e=0;e<$.length;e++)$[e].resetMeshes(!0,!1),t($[e])}},3e4)}function p(){function t(){G.x+=.33,G.y+=.33,G.z+=.33,G.x=Math.min(G.x,30),G.y=Math.min(G.y,30),G.z=Math.min(G.z,30),setTimeout(t,H.randInt(2e3,1e3))}B.shaking=!0,t()}function f(t){return(Math.random()-.5)*t}function v(){for(var t in B)B[t]=!1;B.eat3d=!0,x.position.z=600;for(var e=0;e<V.length;e++)V[e].resetMeshes(!0,!1),V[e].mode="still";for(var e=0;e<$.length;e++)$[e].resetMeshes(!0,!1),$[e].mode="still";setTimeout(function(){B.zoomingOut=!0},13666)}function g(){x.position.x+=.05*(R-x.position.x),x.position.y+=.05*(-C-x.position.y),x.lookAt(T.position),B.shaking?(x.position.x+=f(G.x),x.position.y+=f(G.y),x.position.z+=f(G.z)):B.zoomingOut&&(x.position.z+=1),M.render();for(var t=0;t<V.length;t++)V[t].render();for(var t=0;t<$.length;t++)$[t].render();w.clear(),b.render()}var y,x,T,w,z,b,M,E,k,H=t("./lib/kutility"),F=t("./monolith"),I=t("./mover"),R=0,C=0,W=window.innerWidth/2,_=window.innerHeight/2,V=[],$=[],D=.015,L=13666,P=26666,S=46666,Z=42e3,X=65e3,Y=1e5,q=8e4,A=18e4,B={eat3d:!1,stranger1:!1,stranger2:!1};e.exports.init=r,e.exports.clear=function(){T.clear()};var G={x:2,y:2,z:2}},{"./lib/kutility":2,"./monolith":4,"./mover":5}],2:[function(t,e){function r(){}function i(t,e){t.css("-webkit-box-shadow",e),t.css("-moz-box-shadow",e),t.css("box-shadow",e)}e.exports=new r,r.prototype.choice=function(t){var e=Math.floor(Math.random()*t.length);return t[e]},r.prototype.shuffle=function(t){for(var e=new Array(t.length),r=0;r<t.length;r++)e[r]=t[r];return e.sort(function(){return.5-Math.random()}),e},r.prototype.randColor=function(){var t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),r=Math.floor(256*Math.random());return"rgb("+t+","+e+","+r+")"},r.prototype.randInt=function(t,e){return e?Math.floor(Math.random()*(t-e))+e:Math.floor(Math.random()*t)},r.prototype.colorWheel=function(t){var e="rgb(",r=t%1536,t=r%256;return 256>r?e+"0,255,"+t+")":512>r?e+"0,"+(255-t)+",255)":768>r?e+t+",0,255)":1024>r?e+"255,0,"+(255-t)+")":1280>r?e+"255,"+t+",0)":e+(255-t)+",255,0)"},r.prototype.alphize=function(t,e){return t.replace("rgb","rgba"),t.replace(")",", "+e+")"),t},r.prototype.contrasters=function(){var t=Math.floor(1536*Math.random()),e=this.colorWheel(t),r=this.colorWheel(t+650);return[e,r]},r.prototype.randomShadow=function(t,e){var r=e+"px",n="0px 0px "+r+" "+r+" "+this.randColor();i(t,n)},r.prototype.shadow=function(t,e,r,n,o,s){var a=e+"px",h=r+"px",c=n+"px",l=o+"px",d=a+" "+h+" "+c+" "+l+" "+s;i(t,d)},r.prototype.addTransform=function(t,e){var r=this.getTransform(t);r=r.replace("none","");var i=r+e;this.setTransform(t,i)},r.prototype.setTransform=function(t,e){t.css("-webkit-transform",e),t.css("-moz-transform",e),t.css("-ms-transform",e),t.css("-o-transform",e),t.css("transform",e)},r.prototype.getTransform=function(t){for(var e=["transform","-webkit-transform","-moz-transform","-ms-transform","-o-transform"],r=0;r<e.length;r++){var i=t.css(e[r]);if("none"==i&&r+1<e.length){var n=t.css(e[r+1]);if(n)continue}return i}},r.prototype.clearTransforms=function(t){t.css("-webkit-transform",""),t.css("-moz-transform",""),t.css("-ms-transform",""),t.css("-o-transform",""),t.css("transform","")},r.prototype.rotate=function(t,e){var r=this.getTransform(t);r=r.replace(/matrix\(.*?\)/,"").replace("none","");var i=" rotate("+e+"deg)";this.setTransform(t,r+i)},r.prototype.scale=function(t,e){var r=this.getTransform(t);r=r.replace(/matrix\(.*?\)/,"").replace("none","");var i=" scale("+e+","+e+")";this.setTransform(t,r+i)},r.prototype.translate=function(t,e,r){var i=this.getTransform(t);console.log(i),i=i.replace(/matrix\(.*?\)/,"").replace("none","");var n=" translate("+e+", "+r+")";this.setTransform(t,i+n)},r.prototype.skew=function(t,e,r){var i=this.getTransform(t);i=i.replace(/skew\(.*?\)/,"").replace(/matrix\(.*?\)/,"").replace("none","");var n=e+"deg",o=r+"deg",s=" skew("+n+", "+o+")";this.setTransform(t,i+s)},r.prototype.warp=function(t,e,r,i){var n=this.getTransform(t);n=n.replace(/matrix\(.*?\)/,"").replace("none","");var o=" rotate("+e+"deg)",s=r+"deg",a=i+"deg",h=" skew("+s+", "+a+")";this.setTransform(t,n+o+h)},r.prototype.slaw=function(t,e,r,i){var n=this.getTransform(t);n=n.replace(/matrix\(.*?\)/,"").replace("none","");var o=" scale("+e+","+e+")",s=" translate("+r+", "+i+")";this.setTransform(t,n+o+s)},r.prototype.straw=function(t,e,r){var i=this.getTransform(t);i=i.replace(/matrix\(.*?\)/,"").replace("none","");var n=" scale("+e+","+e+")",o=" rotate("+r+"deg)";this.setTransform(t,i+n+o)},r.prototype.perp=function(t,e){var r=e+"px";t.css("-webkit-perspective",r),t.css("-moz-perspective",r),t.css("-ms-perspective",r),t.css("-o-perspective",r),t.css("perspective",r)},r.prototype.perpo=function(t,e,r){var i=e+"% "+r+"%";t.css("-webkit-perspective-origin",i),t.css("-moz-perspective-origin",i),t.css("-ms-perspective-origin",i),t.css("-o-perspective-origin",i),t.css("perspective-origin",i)},r.prototype.trans3d=function(t,e,r,i){var n=this.getTransform(t);n=n.replace(/matrix3d\(.*?\)/,"").replace("none","");var o=" translate3d("+e+"px, "+r+"px, "+i+"px)";this.setTransform(t,n+o)},r.prototype.scale3d=function(t,e){var r=this.getTransform(t);r=r.replace(/matrix3d\(.*?\)/,"").replace("none","");var i=" scale3d("+e+", "+e+", "+e+")";this.setTransform(t,r+i)},r.prototype.rotate3d=function(t,e,r,i,n){var o=this.getTransform(t);o=o.replace(/matrix3d\(.*?\)/,"").replace("none","");var s=" rotate3d("+e+", "+r+", "+i+", "+n+"deg)";this.setTransform(t,o+s)},r.prototype.rotate3dx=function(t,e){this.rotate3d(t,1,0,0,e)},r.prototype.rotate3dy=function(t,e){this.rotate3d(t,0,1,0,e)},r.prototype.rotate3dz=function(t,e){this.rotate3d(t,0,0,1,e)},r.prototype.straw3d=function(t,e,r,i,n,o){var s=this.getTransform(t);s=s.replace(/matrix3d\(.*?\)/,"").replace("none","");var a=" scale3d("+o+", "+o+", "+o+")";a+=" rotate3d("+e+", "+r+", "+i+", "+n+"deg)",this.setTransform(t,s+a)},r.prototype.addFilter=function(t,e){var r=this.getFilter(t);r=r.replace("none","");var i=r+" "+e;this.setFilter(t,i)},r.prototype.setFilter=function(t,e){t.css("-webkit-filter",e),t.css("-moz-filter",e),t.css("-ms-filter",e),t.css("-o-filter",e),t.css("filter",e)},r.prototype.getFilter=function(t){for(var e=["filter","-webkit-filter","-moz-filter","-ms-filter","-o-filter"],r=0;r<e.length;r++){var i=t.css(e[r]);if("none"==i&&r+1<e.length){var n=t.css(e[r+1]);if(n)continue}return i}},r.prototype.clearFilters=function(t){t.css("-webkit-filter",""),t.css("-moz-filter",""),t.css("-ms-filter",""),t.css("-o-filter",""),t.css("filter","")},r.prototype.grayscale=function(t,e){var r=this.getFilter(t);r=r.replace(/grayscale\(.*?\)/,"").replace("none","");var i=" grayscale("+e+"%)";this.setFilter(t,r+i)},r.prototype.sepia=function(t,e){var r=this.getFilter(t);r=r.replace(/sepia\(.*?\)/,"").replace("none","");var i=" sepia("+e+"%)";this.setFilter(t,r+i)},r.prototype.saturate=function(t,e){var r=this.getFilter(t);r=r.replace(/saturate\(.*?\)/,"").replace("none","");var i=" saturate("+e+"%)";this.setFilter(t,r+i)},r.prototype.invert=function(t,e){var r=this.getFilter(t);r=r.replace(/invert\(.*?\)/,"").replace("none","");var i=" invert("+e+"%)";this.setFilter(t,r+i)},r.prototype.hutate=function(t,e){var r=this.getFilter(t);r=r.replace(/hue-rotate\(.*?\)/,"").replace("none","");var i=" hue-rotate("+e+"deg)";this.setFilter(t,r+i)},r.prototype.opace=function(t,e){var r=this.getFilter(t);r=r.replace(/opacity\(.*?\)/,"").replace("none","");var i=" opacity("+e+"%)";this.setFilter(t,r+i)},r.prototype.brightness=function(t,e){var r=this.getFilter(t);r=r.replace(/brightness\(.*?\)/,"").replace("none","");var i=" brightness("+e+"%)";this.setFilter(t,r+i)},r.prototype.contrast=function(t,e){var r=this.getFilter(t);r=r.replace(/contrast\(.*?\)/,"").replace("none","");var i=" contrast("+e+"%)";this.setFilter(t,r+i)},r.prototype.blur=function(t,e){var r=this.getFilter(t);r=r.replace(/blur\(.*?\)/,"").replace("none","");var i=" blur("+e+"px)";this.setFilter(t,r+i)}},{}],3:[function(t){$(function(){function e(){f++,f==p&&r()}function r(){u.init(),s(),setTimeout(n,1e3),setTimeout(i,g),o(),setInterval(function(){$(".debug-timer").html(m[0].currentTime)},200)}function i(){function t(){for(var t=0;t<m.length;t++)m[t].currentTime=0;u.clear();for(var e in v)v[e]=!1;r()}function e(){$(".footer").animate({opacity:1},600),$(".footer").unbind("mouseenter"),$(".footer").unbind("mouseleave")}e(),setTimeout(t,5e3)}function n(){$(".footer").animate({opacity:0},800),$(".footer").mouseenter(function(){$(this).animate({opacity:1},400)}),$(".footer").mouseleave(function(){$(this).animate({opacity:0},400)})}function o(){for(var t=0;t<m.length;t++)m[t].muted=!0}function s(){v.eat=!0,l.play(),a(),setTimeout(h,y)}function a(){var t=Math.random();if(.9>t)var e=.23*Math.random()+.02;else var e=.66*Math.random()+.02;d.css("opacity",e),setTimeout(a,c.randInt(400,20))}function h(){var t=c.randInt(100,70);c.invert(d,t),setTimeout(function(){c.invert(d,0),setTimeout(h,c.randInt(1200,600))},c.randInt(1200,200))}for(var c=t("./lib/kutility"),l=document.querySelector("#eat"),d=$(l),m=[l],u=t("./3d"),p=m.length,f=0,v={eat:!1},g=3e5,y=8e4,x=0;x<m.length;x++)m[x].addEventListener("canplaythrough",e)})},{"./3d":1,"./lib/kutility":2}],4:[function(t,e){function r(t,e,r,i){this.xgrid=e.xgrid||30,this.ygrid=e.ygrid||30,this.width=e.width||640,this.height=e.height||360,this.xsize=this.width/this.xgrid,this.ysize=this.height/this.ygrid,this.randZ=e.randZ||!1,this.zsize=e.zsize||this.xsize,this.velocity=e.velocity||.01,this.randVel=e.randVel||!1,this.mode=e.mode||"",this.breakDown=e.breakDown,void 0===this.breakDown&&(this.breakDown=!0),this.initX=e.initX||0,this.initY=e.initY||0,this.initZ=e.initZ||0,this.gdx=e.gdx||0,this.gdy=e.gdy||0,this.gdz=e.gdz||0,this.video=document.getElementById(t),this.$video=$(this.video),this.video.muted=!0,this.materials=[],this.meshes=[],this.vidTexture=new THREE.Texture(this.video),this.vidTexture.minFilter=THREE.LinearFilter,this.vidTexture.magFilter=THREE.LinearFilter,this.vidTexture.format=THREE.RGBFormat,this.vidTexture.generateMipmaps=!1,this.ux=1/this.xgrid,this.uy=1/this.ygrid,this.materialParams={color:16777215,map:this.vidTexture},this.material_base=new THREE.MeshLambertMaterial(this.materialParams),r.initMaterial(this.material_base,i.__lights,i.fog),this.cube_count=0;var o,s,a,h,c;for(o=0;o<this.xgrid;o++)for(s=0;s<this.ygrid;s++)a=o,h=s,c=new THREE.BoxGeometry(this.xsize,this.ysize,this.z()),this.breakDown&&n(c,this.ux,this.uy,a,h),this.materials[this.cube_count]=new THREE.MeshLambertMaterial(this.materialParams),material=this.materials[this.cube_count],mesh=new THREE.Mesh(c,material),this.meshes[this.cube_count]=mesh,this.cube_count+=1;this.setVelocity(),this.resetMeshes(!0,!0)}function n(t,e,r,i,n){for(var o=t.faceVertexUvs[0],s=0;s<o.length;s++)for(var a=o[s],h=0;h<a.length;h++){var c=a[h];c.x=(c.x+i)*e,c.y=(c.y+n)*r}}t("./lib/kutility");e.exports=r,r.prototype.z=function(){return this.randZ?Math.random()*this.zsize*1.5+.5*this.zsize:this.zsize},r.prototype.addTo=function(t){for(var e=0;e<this.cube_count;e++)t.add(this.meshes[e])},r.prototype.render=function(){this.video.readyState===this.video.HAVE_ENOUGH_DATA&&this.vidTexture&&(this.vidTexture.needsUpdate=!0);var t=!1;"moving"==this.mode&&(t=!0);for(var e=0;e<this.cube_count;e++)mesh=this.meshes[e],mesh.position.x+=this.gdx,mesh.position.y+=this.gdy,mesh.position.z+=this.gdz,t&&!this.randVel?(mesh.rotation.x+=10*mesh.dx,mesh.rotation.y+=10*mesh.dy,mesh.position.x+=200*mesh.dx,mesh.position.y+=200*mesh.dy,mesh.position.z+=400*mesh.dx):t&&(mesh.rotation.x+=10*mesh.dx*(Math.random()-.5),mesh.rotation.y+=10*mesh.dy*(Math.random()-.5),mesh.position.x+=200*mesh.dx*(Math.random()-.5),mesh.position.y+=200*mesh.dy*(Math.random()-.5),mesh.position.z+=400*mesh.dx*(Math.random()-.5))},r.prototype.reverseDirection=function(){for(i=0;i<this.cube_count;i++)mesh=this.meshes[i],mesh.dx*=-1,mesh.dy*=-1},r.prototype.speedChange=function(t){for(i=0;i<this.cube_count;i++)mesh=this.meshes[i],mesh.dx*=t,mesh.dy*=t},r.prototype.setVelocity=function(){for(var t=0;t<this.cube_count;t++){var e=this.meshes[t];e.dx=this.velocity*(.5-Math.random()),e.dy=this.velocity*(.5-Math.random())}},r.prototype.setColors=function(t){for(var e=0;e<this.xgrid;e++)for(var r=0;r<this.ygrid;r++){var i=e*this.xgrid+r,n=this.meshes[i];n&&(t?(n.material.hue=e/this.xgrid,n.material.saturation=1-r/this.ygrid,n.material.lightness=.5):(n.material.hue=Math.random(),n.material.saturation=.5*Math.random()+.1,n.material.lightness=.5*Math.random()+.25),n.material.color.setHSL(n.material.hue,n.material.saturation,n.material.lightness))}},r.prototype.resetColors=function(t){for(var e=0;e<this.cube_count;e++){var r=this.meshes[e];r.material.color=new THREE.Color(t?t:16777215)}},r.prototype.structureVel=function(t,e,r){this.gdx=t,this.gdy=e,this.gdz=r},r.prototype.resetMeshes=function(t,e){for(var r=0;r<this.xgrid;r++)for(var i=0;i<this.ygrid;i++){var n=r*this.xgrid+i,o=this.meshes[n];o&&(t&&(o.position.x=this.initX+(r-this.xgrid/2)*this.xsize,o.position.y=this.initY+(i-this.ygrid/2)*this.ysize,o.position.z=this.initZ,o.rotation.x=0,o.rotation.y=0),e&&(o.scale.x=1,o.scale.y=1,o.scale.z=1))}},r.prototype.scaleMeshes=function(t){for(var e=0;e<this.xgrid;e++)for(var r=0;r<this.ygrid;r++){var i=e*this.xgrid+r,n=this.meshes[i];n&&(n.scale.x=t,n.scale.y=t,n.scale.z=t)}}},{"./lib/kutility":2}],5:[function(t,e){{var r=t("./lib/kutility");e.exports.frametime=20}e.exports.move=function(t,e,i,n,o,s){var a=r.randInt(3e3,700),h=e/a*10,c=i/a*10,l=n/a*10;t.structureVel(h,c,l),setTimeout(function(){t.structureVel(0,0,0),s()},a)}},{"./lib/kutility":2}]},{},[3]);